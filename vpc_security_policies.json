[
  {
    "name": "web_ns",
    "cidr": "10.0.1.0/24",
    "ingress": [
      {
        "port": 22,
        "protocol": "tcp",
        "source": "10.0.0.0/16",
        "action": "allow",
        "comment": "Allow SSH from internal VPC networks"
      },
      {
        "port": 80,
        "protocol": "tcp",
        "source": "0.0.0.0/0",
        "action": "allow",
        "comment": "Allow web traffic from anywhere"
      }
    ],
    "egress": [
      {
        "port": 53,
        "protocol": "udp",
        "destination": "0.0.0.0/0",
        "action": "allow",
        "comment": "Allow DNS lookups"
      },
      {
        "port": "all",
        "protocol": "icmp",
        "destination": "10.0.0.0/16",
        "action": "allow",
        "comment": "Allow all internal ping (ICMP) traffic"
      },
      {
        "port": "all",
        "protocol": "all",
        "destination": "0.0.0.0/0",
        "action": "deny",
        "comment": "Default deny all outbound traffic"
      }
    ]
  },
  {
    "name": "db_ns",
    "cidr": "10.0.2.0/24",
    "ingress": [
      {
        "port": 3306,
        "protocol": "tcp",
        "source": "10.0.1.0/24",
        "action": "allow",
        "comment": "Allow MySQL access only from the web_ns subnet"
      },
      {
        "port": "all",
        "protocol": "icmp",
        "source": "10.0.0.0/16",
        "action": "allow",
        "comment": "Allow all internal ping (ICMP) traffic"
      },
      {
        "port": "all",
        "protocol": "all",
        "source": "0.0.0.0/0",
        "action": "deny",
        "comment": "Default deny all ingress"
      }
    ],
    "egress": [
      {
        "port": "all",
        "protocol": "icmp",
        "destination": "10.0.0.0/16",
        "action": "allow",
        "comment": "Allow all internal ping (ICMP) traffic"
      },
      {
        "port": "all",
        "protocol": "all",
        "destination": "0.0.0.0/0",
        "action": "deny",
        "comment": "Default deny all outbound traffic"
      }
    ]
  },
  {
    "name": "app_ns",
    "cidr": "10.10.1.0/24",
    "ingress": [
      {
        "port": "all",
        "protocol": "icmp",
        "source": "10.0.0.0/16",
        "action": "allow",
        "comment": "Allow ICMP from peered VPC (vpc0)"
      },
      {
        "port": "all",
        "protocol": "all",
        "source": "0.0.0.0/0",
        "action": "deny",
        "comment": "Default deny all ingress"
      }
    ],
    "egress": [
      {
        "port": "all",
        "protocol": "icmp",
        "destination": "10.0.0.0/16",
        "action": "allow",
        "comment": "Allow ICMP to peered VPC (vpc0)"
      },
      {
        "port": "all",
        "protocol": "all",
        "destination": "0.0.0.0/0",
        "action": "deny",
        "comment": "Default deny all egress"
      }
    ]
  }
]
